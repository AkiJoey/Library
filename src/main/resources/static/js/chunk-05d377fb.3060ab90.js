(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05d377fb"],{6654:function(r,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"e",(function(){return u}));var t=void 0,o=function(r,e,n){""===e?n(new Error("请输入用户名")):n()},s=function(r,e,n){""===e?n(new Error("请输入密码")):e.length<6?n(new Error("密码长度不能小于 6 位")):n()},i=function(r,e,n){""===e?n(new Error("请输入密码")):(""!==t.form.checkPassword&&t.$refs.form.validateField("checkPassword"),n())},a=function(r,e,n){""===e?n(new Error("请再次输入密码")):e!==t.form.password?n(new Error("两次输入密码不一致")):n()},c=function(r,e,n){""===e?n(new Error("请输入新密码")):e.length<6?n(new Error("密码长度不能小于 6 位")):n()},u=function(r,e,n){""===e?n(new Error("请输入手机号")):/^[1][3,4,5,7,8,9][0-9]{9}$/.test(e)?n():n(new Error("手机号格式不正确"))}},6656:function(r,e,n){"use strict";n.r(e);var t=function(){var r=this,e=r.$createElement,n=r._self._c||e;return n("div",{attrs:{id:"login-container"}},[n("el-form",{ref:"form",attrs:{model:r.form,rules:r.rules,"label-position":"left"}},[n("el-form-item",{attrs:{id:"form-0"}},[n("h1",[r._v("Login Form")])]),n("el-form-item",{attrs:{prop:"username",id:"form-1"}},[n("icon-font",{attrs:{"icon-class":"user"}}),n("el-input",{ref:"username",attrs:{placeholder:"Username"},model:{value:r.form.username,callback:function(e){r.$set(r.form,"username",e)},expression:"form.username"}})],1),n("el-form-item",{attrs:{prop:"password",id:"form-2"}},[n("icon-font",{attrs:{"icon-class":"password"}}),n("el-input",{ref:"password",attrs:{type:r.password,placeholder:"Password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&r._k(e.keyCode,"enter",13,e.key,"Enter")?null:r.handleLogin(e)}},model:{value:r.form.password,callback:function(e){r.$set(r.form,"password",e)},expression:"form.password"}}),n("icon-font",{attrs:{"icon-class":r.eye},nativeOn:{click:function(e){return r.showPassword(e)}}})],1),n("el-form-item",{attrs:{id:"form-3"}},[n("el-button",{attrs:{type:"primary",loading:r.loading.login},on:{click:r.handleLogin}},[r._v("Login")]),n("el-button",{attrs:{type:"primary",loading:r.loading.register},on:{click:r.handleRegister}},[r._v("Register")])],1)],1)],1)},o=[],s=n("7b36"),i=n("ef77"),a=n("6654"),c={name:"Login",data:function(){return{form:{username:"",password:""},rules:{username:[{validator:a["f"],trigger:"blur"}],password:[{validator:a["d"],trigger:"blur"}]},loading:{login:!1,register:!1},show:!1,redirect:void 0}},watch:{$route:{handler:function(r){this.redirect=r.query&&r.query.redirect},immediate:!0}},computed:{password:function(){return this.show?"":"password"},eye:function(){return this.show?"eye":"eye-slash"}},methods:{showPassword:function(){var r=this;this.show=!this.show,this.$nextTick((function(){r.$refs.password.focus()}))},handleLogin:function(){var r=this;this.$refs.form.validate((function(e){if(!e)return r.$message.error("Format Error"),!1;r.loading.login=!0,Object(s["b"])(r.form).then((function(e){var n=e.message,t=e.data;Object(i["c"])(t.token),r.loading.login=!1,r.$message.success(n),r.$router.push({path:r.redirect||"/"})})).catch((function(){return r.loading.login=!1}))}))},handleRegister:function(){var r=this;this.$refs.form.validate((function(e){if(!e)return r.$message.error("Format Error"),!1;r.loading.register=!0,Object(s["d"])(r.form).then((function(e){var n=e.message;r.loading.register=!1,r.$message.success(n)})).catch((function(){return r.loading.register=!1}))}))}}},u=c,f=(n("a8f0"),n("2877")),l=Object(f["a"])(u,t,o,!1,null,null,null);e["default"]=l.exports},"81f1":function(r,e,n){},a8f0:function(r,e,n){"use strict";var t=n("81f1"),o=n.n(t);o.a}}]);
//# sourceMappingURL=chunk-05d377fb.3060ab90.js.map